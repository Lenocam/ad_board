q
request.headers["Authenticate Token"]
request.headers["Authenticate"]
self.headers
request.headers["WWW-Authenticate"]
token
authenticate_token
auth_token
auth_toke
q
token
Authorization
Authorization0
Token
head
request.headers
request.headers["Authorization"]
request.headers["Authorization: Token token="]
request.headers["Authorization: Token toke="]
request.headers["Authorization: Token toke="
token
auth_token
head
q
request.headers["Authorization"]
request.headers["Authorization: Token"]
request.headers
Token
Authorization
token
headers
type
q
user_params
@user
q
"api/v1/" + params['data']['type']
params['data']['type']
q
params['data']['type']
params[:controller]
q
"api/v1/" + params[:controller].to_s
params[:controller]
params['data']['type'] == params[:controller]
q
params['data']['type'] == params[:controller]
params['data'] == params[:controller]
params['data']
params['data']['type']
params[:controller]
q
params[:controller]
params['data']['type']
params['data']
params['data']['type']
params['type']
params['data']
params
@user
@users
@data
@type
POST
data
type
@user
user
controller_path
controller
q
current_user.admin?
current_user
@gallery.user == current_user || current_user.admin?
@gallery.user == current_user
current_user
@gallery.user
@gallery
q
@gallery.user
@gallery
@user
current_user
q
require_login!
@user
current_user
q
@current_user
@user
current_user
q
continue
index
index?
GalleryPolicy
index
q
@gallery
use
user
current_user
q
@user
q
UserPolicy
@user
user
q
user
gallery
q
gallery.user
gallery
user
q
FactoryGirl.create(:gallery)
FactoryGirl.build(:gallery)
:subject
subject
subject { GalleryPolicy.new(user, gallery) }
subject
gallery
user
q
FactoryGirl.build(:user)
user
User.connection
@user
User
user
q
gallery
user
q
user
let(:user) { nil }
gallery
GalleryPolicy.new
GalleryPolicy
user
q
GalleryPolicy.new(user, gallery)
user
q
GalleryPolicy.new(user, gallery)
let
gallery
user
q
@gallery
@user
:gallery
gallery
:user
user
q
@user.email
@user
user[:email]
user.email
q
user.valid?
user.errors
q
user.errors
user.valid?
user.errors[:email]
user
q
user
@user
q
@galleries.titles.all
@galleries.title.all
@galleries.first.user.galleries.last
@galleries.first.user.galleries.first
@galleries.first.user.galleries.count
@galleries.first.user
@gallery.first.user
@galleries.count
@galleries.users.count
@galleries.user.count
@galleries.first.user.id
@user
user
@galleries.user
@galleries
galleries
q
@user
@gallery
gallery
q
before_action
@user
user
authenticate_user!
q
user
user.scope
scope.all
user
@scope
scope
q
@scope
scope
user.id
user
@gallery
@user.id
@gallery.user_id
q
index?
index
@galleries.user_id
@galleries.user
@galleries
@user.galleries
@user
user
@gallery
caller
gallery
user
@model
:model
model
@scope
scope
user.admin?
user.galleries.count
galleries
current_user
@user
user
continue
current_user
@current_user
@user.id
@gallery.user_id
@gallery
q
stop
user
@current_user
q
galleries.id
gallery
galleries
@gallery
index?
user
@user
@current_user
